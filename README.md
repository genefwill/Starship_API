Federation Starship RESTful API

Written by: Genevieve Will

Genefwill@gmail.com

[Change log](#change-log)

[Data Model](#data-model)

[Create a Starship](#create-a-starship)

[View a Starship](#view-a-starship)

[View all Starships with Pagination](#view-all-starships-with-pagination)

[Delete a Starship](#delete-a-starship)

[Create a Load](#create-a-load)

[View a Load](#view-a-load)

[View all Loads with pagination](#view-all-loads-with-pagination)

[Delete a Load](#_Toc128663034)

[Assign Load to a Starship](#assign-load-to-a-starship)

[Delete a Load from a Starship](#delete-a-load-from-a-starship)

[View all Loads for a given Starship](#view-all-loads-for-a-given-starship)

# Change log

| **Version** | **Change**       | **Date**     |
|-------------|------------------|--------------|
| 1.0         | Initial version. | June 5, 2022 |

# Data Model

The app stores two kinds of entities in Datastore, Starships and Loads.

## Starships

| **Property** | **Data Type** | **Notes**                                                                            |
|--------------|---------------|--------------------------------------------------------------------------------------|
| id           | Integer       | The id of the Starship. Automatically generated by datastore                         |
| name         | String        | Name of the Starship.                                                                |
| type         | String        | Type of the Starship. E.g., SailStarship, Catamaran, etc.                            |
| length       | Integer       | The length of the Starship in feet.                                                  |
| mission      | String        | Mission of the Starship                                                              |
| captain      | String        | Id if the Captain assigned to this starship                                          |
| Posts        | Array of Ints | List of Posts that have been added to Starship, including id and self of Post added. |

## Posts

| **Property** | **Data Type**             | **Notes**                                                                                              |
|--------------|---------------------------|--------------------------------------------------------------------------------------------------------|
| id           | Integer                   | The id of the Post. Automatically generated by datastore                                               |
| title        | String                    | Title of the Post                                                                                      |
| rank         | String                    | Rank of the Officer assigned to this post                                                              |
| assignments  | String                    | Duties that are assigned to this post                                                                  |
| ship         | Array of Ints and Strings | Array of information about the Starship that the post is assigned to. Including id, name and self link |

## Crew

| **Property** | **Data Type**             | **Notes**                                                                                                  |
|--------------|---------------------------|------------------------------------------------------------------------------------------------------------|
| id           | Integer                   | The id of the Crew Member. Automatically generated by datastore                                            |
| name         | String                    | Name of the crew member                                                                                    |
| Rank         | String                    | Rank of crew member                                                                                        |
| Specialty    | String                    | Specialty of the crew member. E.g. Science, Command, Security                                              |
| post         | Array of Ints and Strings | Array of information about the Post that the crew member is assigned to. Including id, title and self link |

# Create a Starship

Allows you to create a new Starship.

| POST /Starships |
|-----------------|

## Request

### Path Parameters

None

### Request Body

Required

### Request Body Format

JSON

### Request JSON Attributes

| **Name** | **Description**                                               | **Required?** |
|----------|---------------------------------------------------------------|---------------|
| name     | The name of the Starship.                                     | Yes           |
| type     | The type of the Starship. E.g., SailStarship, Catamaran, etc. | Yes           |
| length   | Length of the Starship in feet.                               | Yes           |

### Request Body Example

| {  "name": "Sea Witch",  "type": "Catamaran",  "length": 28 } |
|---------------------------------------------------------------|

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                                                                                                                           |
|-------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------|
| Success     | 201 Created     |                                                                                                                                     |
| Failure     | 400 Bad Request | If the request is missing any of the 3 required attributes, the Starship must not be created, and 400 status code must be returned. |

### Response Examples

-   Datastore will automatically generate an ID and store it with the entity being created. Your app must send back this value in the response body as shown in the example.

#### Success

| Status: 201 Created  {  "id": 123,  "name": "Sea Witch",  "type": "Catamaran",  "length": 28 } |
|------------------------------------------------------------------------------------------------|

#### Failure

| Status: 400 Bad Request  {  "Error": "The request object is missing at least one of the required attributes" } |
|----------------------------------------------------------------------------------------------------------------|

# View a Starship

Allows you to get an existing Starship

| GET /Starships/:Starship_id |
|-----------------------------|

## Request

## Path Parameters

| **Name**    | **Description**    |
|-------------|--------------------|
| Starship_id | ID of the Starship |

### Request Body

None

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                                |
|-------------|-----------------|------------------------------------------|
| Success     | 200 OK          |                                          |
| Failure     | 404 Not Found   | No Starship with this Starship_id exists |

### Response Examples

#### Success

| Status: 200 OK  {  "id": 123,  "name": "Sea Witch",  "type": "Catamaran",  "length": 28 } |
|-------------------------------------------------------------------------------------------|

#### Failure

| Status: 404 Not Found  {  "Error": "No Starship with this Starship_id exists"  } |
|----------------------------------------------------------------------------------|

# View all Starships with Pagination

List all Starships, 3 at a time with a next link to see the rest of the Starships.

| GET /Starships |
|----------------|

## Request

### Path Parameters

None

### Request Body

None

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes** |
|-------------|-----------------|-----------|
| Success     | 200 OK          |           |

### Response Examples

#### Success

| Status: 200 OK  [ {  "id": 123,  "name": "Sea Witch",  "type": "Catamaran",  "length": 28  "loads": [  {"id": 5678,  "self": "https://appspot.com/loads/5678"},  {"id": 8765,  "self": "https://appspot.com/loads/8765"}  ],  "self": https://appspot.com/Starships/123" }, {  "id": 456,  "name": "Adventure",  "type": "SailStarship",  "length": 50  "loads": [  {"id": 2725,  "self": "https://appspot.com/loads/2725"},  {"id": 6453,  "self": "https://appspot.com/loads/6453"}  ],  "self": https://appspot.com/Starships/456"  }, {  "id": 789,  "name": "Hocus Pocus",  "type": "SailStarship",  "length": 100  "loads": [  {"id": 3523,  "self": "https://appspot.com/loads/3523"},  {"id": 1498,  "self": "https://appspot.com/loads/1498"}  ],  "self": https://appspot.com/Starships/789" } ] "next" : "url to next page"  |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

# Delete a Starship

Allows you to delete a Starship. Note that if the Starship is currently carrying any loads, deleting the Starship will unload any loads on it.

| DELETE /Starships/:Starship_id |
|--------------------------------|

## Request

### Path Parameters

| **Name**    | **Description**    |
|-------------|--------------------|
| Starship_id | ID of the Starship |

### Request Body

None

## Response

No body

### Response Body Format

Success: No body

Failure: JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                                |
|-------------|-----------------|------------------------------------------|
| Success     | 204 No Content  |                                          |
| Failure     | 404 Not Found   | No Starship with this Starship_id exists |

### Response Examples

#### Success

| Status: 204 No Content |
|------------------------|

#### Failure

| Status: 404 Not Found  {  "Error": "No Starship with this Starship_id exists"  } |
|----------------------------------------------------------------------------------|

# Create a Load

Allows you to create a new load.

| POST /loads |
|-------------|

## Request

### Path Parameters

None

### Request Body

Required

### Request Body Format

JSON

### Request JSON Attributes

| **Name**      | **Description**                          | **Required?** |
|---------------|------------------------------------------|---------------|
| volume        | The volume the load can carry            | Yes           |
| item          | Description of item the load is carrying | Yes           |
| creation_date | Date the load was created                | Yes           |
| carrier       | Starship that is carrying the load       | No            |

### Request Body Example

| {  "volume": 5,  "item": "LEGO Blocks",  "creation_date": "10/18/2021" } |
|--------------------------------------------------------------------------|

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                                                                                                               |
|-------------|-----------------|-------------------------------------------------------------------------------------------------------------------------|
| Success     | 201 Created     |                                                                                                                         |
| Failure     | 400 Bad Request | If the request is missing the required attributes, the load must not be created, and 400 status code must be returned.  |

### Response Examples

-   Datastore will automatically generate an ID and store it with the entity being created. This value needs to be sent in the response body as shown in the example.
-   The value of the attribute carrier is the ID, name and self of the Starship that is currently carrying that load. If there is no Starship carrying this load, the value of carrier should be null.

#### Success

| Status: 201 Created  {  "id": 9567,  "volume": 5,  "item": "LEGO Blocks",  "creation_date": "10/18/2021",  "carrier": null,  "self": "https://appspot.com/loads/9567" } |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

#### Failure

| Status: 400 Bad Request  {  "Error": "The request object is missing at least one of the required attributes" } |
|----------------------------------------------------------------------------------------------------------------|

# View a Load

Allows you to view an existing load.

| GET /loads/:load_id |
|---------------------|

## Request

### Path Parameters

| **Name** | **Description** |
|----------|-----------------|
| load_id  | ID of the load  |

### Request Body

None

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                        |
|-------------|-----------------|----------------------------------|
| Success     | 200 OK          |                                  |
| Failure     | 404 Not Found   | No load with this load_id exists |

### Response Examples

#### Success

| Status: 200 OK  {  "id": 9567,  "volume": 5,  "item": "LEGO Blocks",  "creation_date": "10/18/2021",  "carrier": null,  "self": "https://appspot.com/loads/9567" } |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|

#### Failure

| Status: 404 Not Found  {  "Error": "No load with this load_id exists"  } |
|--------------------------------------------------------------------------|

# View all Loads with pagination

List all the loads 3 at a time with a link to view the next 3 loads.

| GET /loads |
|------------|

## Request

### Path Parameters

None

### Request Body

None

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes** |
|-------------|-----------------|-----------|
| Success     | 200 OK          |           |

### Response Examples

#### Success

| Status: 200 OK  {"loads": [{ "carrier": null,  "item": "Furnitures",  "creation_date": "10/20/2021",  "volume": 7,  "id": 4596260912758784 }, { "item": "Food",  "volume": 3,  "creation_date": "10/19/2021",  "carrier": null,  "id": 4907320563728384 },  { "carrier":{"id": "5753763457400832",  "self": "http://127.0.0.1:8080/Starships/5753763457400832",  "name": "Lucifer"},  "volume": 10, "creation_date": "10/19/2021",  "item": "Stuffed Animals",  "id": 5074526257807360}],  "next": "http://127.0.0.1:8080/loads?limit=3&offset=3"}  |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

# Delete a Load

Allows you to delete a load. If the load being deleted is being carried by a Starship, the Starship will be updated to no longer have that load on it.

| DELETE /loads/:load_id |
|------------------------|

## Request

### Path Parameters

| **Name** | **Description** |
|----------|-----------------|
| load_id  | ID of the load  |

### Request Body

None

## Response

No body

### Response Body Format

Success: No body

Failure: JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                        |
|-------------|-----------------|----------------------------------|
| Success     | 204 No Content  |                                  |
| Failure     | 404 Not Found   | No load with this load_id exists |

### Response Examples

#### Success

| Status: 204 No Content |
|------------------------|

#### Failure

| Status: 404 Not Found  {  "Error": "No load with this load_id exists"  } |
|--------------------------------------------------------------------------|

# Assign Load to a Starship

Assigning loads to a Starship. If the load is already assigned, then returns 403 status

| PUT /Starships/:Starship_id/loads/:load_id |
|--------------------------------------------|

## Request

### Path Parameters

| **Name**    | **Description**    |
|-------------|--------------------|
| load_id     | ID of the load     |
| Starship_id | ID of the Starship |

### Request Body

None

## Response

No body

### Response Body Format

Success: No body

Failure: JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                                                                                                                                    |
|-------------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| Success     | 204 No Content  | Succeeds only if a Starship exists with this Starship_id, a load exists with this load_id and the load is not assigned to another Starship.  |
| Failure     | 403 Forbidden   | The load is currently assigned to a different Starship.                                                                                      |
| Failure     | 404 Not Found   | The specified Starship and/or load does not exist                                                                                            |

### Response Examples

#### Success

| Status: 204 No Content |
|------------------------|

#### Failure

| Status: 403 Forbidden  {  "Error": "The load is already loaded on another Starship"  } |
|----------------------------------------------------------------------------------------|

| Status: 404 Not Found  {  "Error": "The specified Starship and/or load does not exist"  } |
|-------------------------------------------------------------------------------------------|

## Comment

-   A load cannot be assigned to multiple Starships, but a Starship can carry many loads.

# Delete a Load from a Starship

The load is being removed from the Starship, it is no longer in the loads section of the Starship.

| DELETE /Starships/:Starship_id/loads/:load_id |
|-----------------------------------------------|

## Request

### Path Parameters

| **Name**    | **Description**    |
|-------------|--------------------|
| load_id     | ID of the load     |
| Starship_id | ID of the Starship |

### Request Body

None

## Response

No body

### Response Body Format

Success: No body

Failure: JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes**                                                                                                                                                                                                                                                                                                |
|-------------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Success     | 204 No Content  | Succeeds only if a Starship exists with this Starship_id, a load exists with this load_id and this load is on this Starship.                                                                                                                                                                             |
| Failure     | 404 Not Found   | No load with this load_id is on this Starship with this Starship_id. This could be because no Starship with this Starship_id exists, or because no load with load_id exists, or even if both Starship_id and load_id are valid, the load with this load_id is not on this Starship with this Starship_id |

### Response Examples

#### Success

| Status: 204 No Content |
|------------------------|

#### Failure

| Status: 404 Not Found {  "Error": " No Starship with this Starship_id is loaded with the load with this load_id"  } |
|---------------------------------------------------------------------------------------------------------------------|

# View all Loads for a given Starship

View all loads that are currently loaded on a given Starship

| GET /Starships/:Starship_id/loads |
|-----------------------------------|

## Request

### Path Parameters

None

### Request Body

None

## Response

### Response Body Format

JSON

### Response Statuses

| **Outcome** | **Status Code** | **Notes** |
|-------------|-----------------|-----------|
| Success     | 200 OK          |           |

### Response Examples

#### Success

| Status: 200 OK  {  "loads": [  {  "creation_date": "10/19/2021",  "id": "5131084064882688",  "item": "Stuffed Animals",  "self": "http://127.0.0.1:8080/loads/5131084064882688",  "volume": 10  }  ] }  |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
